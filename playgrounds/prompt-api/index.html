<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="/on-device-demos/static/images/icon.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&display=swap"
    rel="stylesheet">
  <title>Prompt API playground</title>
  <link rel="stylesheet" href="/on-device-demos/static/button.css">
  <link rel="stylesheet" href="/on-device-demos/static/design.css">
  <link rel="stylesheet" href="/on-device-demos/static/spinner.css">
  <link rel="stylesheet" href="/on-device-demos/static/app.css">
</head>



<body>
  <header>
    <button title="Toggle the menu" class="nav-anchor" popovertarget="menu-popover"><span class="sr-only">Open menu</span></button>
    <h2 class="app-title">Built-in AI Playground</h2>
    
  <nav  id="menu">
    <ul class="menu">
      <li>
        <a href="/on-device-demos/playgrounds/prompt-api" class="item current">Prompt</a>
      </li>
      <li>
        <span class="item parent">
          <a href="/on-device-demos/playgrounds/summarizer-api">Writing assistance</a>
        </span>
        <ul class="menu">
          <li>
            <a href="/on-device-demos/playgrounds/summarizer-api" class="item">Summarizer</a>
          </li>
          <li>
            <a href="/on-device-demos/playgrounds/writer-api" class="item">Writer</a>
          </li>
          <li>
            <a href="/on-device-demos/playgrounds/rewriter-api" class="item">Rewriter</a>
          </li>
        </ul>
      </li>
      <!-- li class="divider">
        <span class="item parent">Samples</span>
        <ul class="menu">
          <li>
            <a href="/on-device-demos/samples/e-commerce" class="item">E-commerce site</a>
          </li>
          <li>
            <a href="/on-device-demos/samples/news" class="item">News editor site</a>
          </li>
        </ul>
      </li -->
    </ul>
  </nav>

  </header>

  
  <nav  id="menu-popover" popover>
    <ul class="menu">
      <li>
        <a href="/on-device-demos/playgrounds/prompt-api" class="item current">Prompt</a>
      </li>
      <li>
        <span class="item parent">
          <a href="/on-device-demos/playgrounds/summarizer-api">Writing assistance</a>
        </span>
        <ul class="menu">
          <li>
            <a href="/on-device-demos/playgrounds/summarizer-api" class="item">Summarizer</a>
          </li>
          <li>
            <a href="/on-device-demos/playgrounds/writer-api" class="item">Writer</a>
          </li>
          <li>
            <a href="/on-device-demos/playgrounds/rewriter-api" class="item">Rewriter</a>
          </li>
        </ul>
      </li>
      <!-- li class="divider">
        <span class="item parent">Samples</span>
        <ul class="menu">
          <li>
            <a href="/on-device-demos/samples/e-commerce" class="item">E-commerce site</a>
          </li>
          <li>
            <a href="/on-device-demos/samples/news" class="item">News editor site</a>
          </li>
        </ul>
      </li -->
    </ul>
  </nav>



  <link rel="stylesheet" href="/on-device-demos/static/playground.css">
  
    <link rel="stylesheet" href="/on-device-demos/static/prompt-api.css">
  

  <main>
    <h1>Prompt API</h1>
    <p class="description">Web API to prompt the browser-provided language model. For more information, check out <a href="https://aka.ms/edge-prompt-api-docs" target="_blank">the API documentation</a>.</p>

    <div id="message-ui" class="message-bar"></div>

    <div class="settings card-with-shadow">
      
<div class="settings-row no-separator">
  <label for="prompt">
    User prompt
    <span role="tooltip" id="user-prompt-tooltip" style="anchor-name:--prompt-anchor;">
      <span class="tooltip-content" style="position-anchor:--prompt-anchor;">
        The user prompt is the text that you want to send to the language model. It can be a question, a statement, or
        any other type of input that you want the model to respond to. The model will generate a response based on this
        prompt.
      </span>
    </span>
  </label>
  <textarea spellcheck="false" id="prompt" placeholder="Enter text to prompt the language model"
    aria-describedby="user-prompt-tooltip">Ordered a Philly cheesesteak, and it was not edible. Their milkshake is just milk with cheap syrup. Horrible place!</textarea>
</div>

<div class="settings-row">
  <label for="system-prompt">
    System prompt
    <span role="tooltip" id="system-prompt-tooltip" style="anchor-name:--system-prompt-anchor;">
      <span class="tooltip-content" style="position-anchor:--system-prompt-anchor;">
        The system prompt is a set of instructions or guidelines that you want the language model to follow when
        generating a response. This can include information about the desired tone, style, or content of the response.
        The model will use this prompt to generate a response that aligns with your instructions.
      </span>
    </span>
  </label>
  <textarea spellcheck="false" id="system-prompt"
    placeholder="Enter instructions, guidelines, and any information for the language model"
    aria-describedby="system-prompt-tooltip">You are an AI model designed to analyze the sentiment of user-provided text. Your goal is to classify the sentiment into predefined categories and provide a confidence score. Follow these guidelines: 

- Identify whether the sentiment is positive, negative, or neutral. 
- Provide a confidence score (0-1) reflecting the certainty of the classification. 
- Ensure the sentiment classification is contextually accurate. 
- If the sentiment is unclear or highly ambiguous, default to neutral.</textarea>
</div>

<div class="settings-row">
  <label for="response-schema">
    Response constraint schema (<span class="example-link-in-label" id="response-schema-example">load an example</span>)
    <span role="tooltip" id="response-schema-tooltip" style="anchor-name:--schema-anchor;">
      <span class="tooltip-content" style="position-anchor:--schema-anchor;">
        A JSON schema that's used to constrain the model's response.
      </span>
    </span>
  </label>
  <textarea spellcheck="false" id="response-schema" placeholder="Enter a JSON schema to constrain the output."
    aria-describedby="response-schema-tooltip" class="code"></textarea>
</div>

<details class="settings-row">
  <summary>More settings</summary>
  <label for="initial-prompts">
    N-shot prompt instructions (<span class="example-link-in-label" id="n-shot-example">load an example</span>)
    <span role="tooltip" id="n-shot-tooltip" style="anchor-name:--nshot-anchor;">
      <span class="tooltip-content" style="position-anchor:--nshot-anchor;">
        N-shot prompting is a technique used to provide the model with a few examples of the desired input-output pairs.
      </span>
    </span>
  </label>
  <textarea spellcheck="false" id="initial-prompts" placeholder="Enter user/assistant interactions"
    aria-describedby="n-shot-tooltip" class="code"></textarea>
</details>

<div class="settings-row no-separator">
  <label for="top-k">
    TopK
    <span role="tooltip" id="top-k-tooltip" style="anchor-name:--topk-anchor;">
      <span class="tooltip-content" style="position-anchor:--topk-anchor;">
        TopK is a sampling method that selects the top K most likely next tokens from the model's output distribution.
        The model then samples from this subset of tokens to generate the next token in the sequence. This method can
        help to reduce the randomness of the generated text and make it more coherent.
      </span>
    </span>
  </label>
  <div class="slider">
    <input type="range" id="top-k" min="1" max="100" value="10" aria-describedby="top-k-tooltip">
    <input type="number" id="top-k-value" min="1" max="100" value="10" tabindex="-1">
  </div>
</div>

<div class="settings-row">
  <label for="temperature">
    Temperature
    <span role="tooltip" id="temperature-tooltip" style="anchor-name:--temp-anchor;">
      <span class="tooltip-content" style="position-anchor:--temp-anchor;">
        Temperature is a parameter that controls the randomness of the model's output. A lower temperature (e.g., 0.1)
        makes the model more deterministic and focused, while a higher temperature (e.g., 1.0) makes it more random and
        creative. Adjusting the temperature can help you find the right balance between coherence and creativity in the
        generated text.
      </span>
    </span>
  </label>
  <div class="slider">
    <input type="range" id="temperature" min="0" max="1.0" value="0.7" step="0.1"
      aria-describedby="temperature-tooltip">
    <input type="number" id="temperature-value" min="0" max="1.0" value="0.7" step="0.1" tabindex="-1">
  </div>
</div>

<div class="settings-row submit">
  <button class="ai-button" id="run">Prompt</button>
  <button id="stop">Stop</button>
</div>
    </div>

    <pre id="output"></pre>

    <div class="metrics card-with-shadow">
      <span class="metric">Initial latency: <span class="value" id="init-latency-metric"></span> ms</span>
      <span class="metric">First chunk latency: <span class="value" id="first-chunk-latency-metric"></span> ms</span>
      <span class="metric">Chunks: <span class="value" id="chunks-metric"></span></span>
      <span class="metric">Rate: <span class="value" id="chunk-rate-metric"></span> chunk/sec</span>
    </div>
  </main>

  <script src="/on-device-demos/static/session.js"></script>
  <script src="/on-device-demos/static/spinner.js"></script>
  <script src="/on-device-demos/static/metrics.js"></script>
  <script src="/on-device-demos/static/slider.js"></script>
  
    <script src="/on-device-demos/static/prompt-api.js"></script>
  

</body>
</html>
